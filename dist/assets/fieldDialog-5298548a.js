/*! 
 Build based on gin-vue-admin 
 Time : 1705585352000 */
import{a as e,o as l,c as a,d as o,w as u,M as t,N as d,h as i,b as r,l as s,E as m}from"./index-0efc4537.js";import{a as p,E as n}from"./form-150c0e00.js";import{E as f}from"./switch-a6225e04.js";/* empty css              */import"./tag-c095386a.js";import{E as c,a as v}from"./select-59043028.js";import"./scrollbar-ab08f6f1.js";/* empty css               *//* empty css                  *//* empty css               */import{a as b,t as y}from"./stringFun-647a78e9.js";import{g}from"./sysDictionary-871dfba3.js";import{W as V}from"./warningBar-5328b630.js";import"./castArray-f160d2a3.js";import"./_baseClone-9af99e91.js";import"./_Uint8Array-4999d338.js";import"./_initCloneObject-b273bb42.js";import"./isEqual-aa7e7ef2.js";import"./hasIn-deea815f.js";import"./index-70d4cce8.js";import"./isUndefined-d281c39a.js";import"./index-c5b62cef.js";import"./strings-a95e1d29.js";import"./debounce-994b39f4.js";import"./index-4b62258d.js";/* empty css             */const j=r("span",{style:{"font-size":"12px"}},"自动填充",-1),_=Object.assign({name:"FieldDialog"},{__name:"fieldDialog",props:{dialogMiddle:{type:Object,default:function(){return{}}},typeOptions:{type:Array,default:function(){return[]}},typeSearchOptions:{type:Array,default:function(){return[]}}},setup(r,{expose:_}){const T=r,h=e({}),N=e([]),U=e({fieldName:[{required:!0,message:"请输入字段英文名",trigger:"blur"}],fieldDesc:[{required:!0,message:"请输入字段中文名",trigger:"blur"}],fieldJson:[{required:!0,message:"请输入字段格式化json",trigger:"blur"}],columnName:[{required:!0,message:"请输入数据库字段",trigger:"blur"}],fieldType:[{required:!0,message:"请选择字段类型",trigger:"blur"}]});(async()=>{h.value=T.dialogMiddle;const e=await g({page:1,pageSize:999999});N.value=e.data.list})();const E=()=>{h.value.fieldJson=b(h.value.fieldName),h.value.columnName=y(h.value.fieldJson)},w=e=>{const l=h.value.fieldType;return"string"!==l&&"LIKE"===e||"int"!==l&&"time.Time"!==l&&"float64"!==l&&("BETWEEN"===e||"NOT BETWEEN"===e)},x=()=>{h.value.fieldSearchType="",h.value.dictType=""},O=e(null);return _({fieldDialogFrom:O}),(e,b)=>{const y=s,g=m,_=p,T=c,D=v,q=f,S=n;return l(),a("div",null,[o(V,{title:"id , created_at , updated_at , deleted_at 会自动生成请勿重复创建。搜索时如果条件为LIKE只支持字符串"}),o(S,{ref_key:"fieldDialogFrom",ref:O,model:h.value,"label-width":"120px","label-position":"right",rules:U.value,class:"grid grid-cols-2"},{default:u((()=>[o(_,{label:"字段名称",prop:"fieldName"},{default:u((()=>[o(y,{modelValue:h.value.fieldName,"onUpdate:modelValue":b[0]||(b[0]=e=>h.value.fieldName=e),autocomplete:"off",style:{width:"80%"}},null,8,["modelValue"]),o(g,{style:{width:"18%","margin-left":"2%"},onClick:E},{default:u((()=>[j])),_:1})])),_:1}),o(_,{label:"字段中文名",prop:"fieldDesc"},{default:u((()=>[o(y,{modelValue:h.value.fieldDesc,"onUpdate:modelValue":b[1]||(b[1]=e=>h.value.fieldDesc=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),o(_,{label:"字段JSON",prop:"fieldJson"},{default:u((()=>[o(y,{modelValue:h.value.fieldJson,"onUpdate:modelValue":b[2]||(b[2]=e=>h.value.fieldJson=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),o(_,{label:"数据库字段名",prop:"columnName"},{default:u((()=>[o(y,{modelValue:h.value.columnName,"onUpdate:modelValue":b[3]||(b[3]=e=>h.value.columnName=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),o(_,{label:"数据库字段描述",prop:"comment"},{default:u((()=>[o(y,{modelValue:h.value.comment,"onUpdate:modelValue":b[4]||(b[4]=e=>h.value.comment=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),o(_,{label:"字段类型",prop:"fieldType"},{default:u((()=>[o(D,{modelValue:h.value.fieldType,"onUpdate:modelValue":b[5]||(b[5]=e=>h.value.fieldType=e),style:{width:"100%"},placeholder:"请选择字段类型",clearable:"",onChange:x},{default:u((()=>[(l(!0),a(t,null,d(r.typeOptions,(e=>(l(),i(T,{key:e.value,label:e.label,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])))),128))])),_:1},8,["modelValue"])])),_:1}),o(_,{label:"enum"===h.value.fieldType?"枚举值":"类型长度",prop:"dataTypeLong"},{default:u((()=>[o(y,{modelValue:h.value.dataTypeLong,"onUpdate:modelValue":b[6]||(b[6]=e=>h.value.dataTypeLong=e),placeholder:"enum"===h.value.fieldType?"例:'北京','天津'":"数据库类型长度"},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),o(_,{label:"字段查询条件",prop:"fieldSearchType"},{default:u((()=>[o(D,{modelValue:h.value.fieldSearchType,"onUpdate:modelValue":b[7]||(b[7]=e=>h.value.fieldSearchType=e),style:{width:"100%"},placeholder:"请选择字段查询条件",clearable:""},{default:u((()=>[(l(!0),a(t,null,d(r.typeSearchOptions,(e=>(l(),i(T,{key:e.value,label:e.label,value:e.value,disabled:w(e.value)},null,8,["label","value","disabled"])))),128))])),_:1},8,["modelValue"])])),_:1}),o(_,{label:"关联字典",prop:"dictType"},{default:u((()=>[o(D,{modelValue:h.value.dictType,"onUpdate:modelValue":b[8]||(b[8]=e=>h.value.dictType=e),style:{width:"100%"},disabled:"int"!==h.value.fieldType,placeholder:"请选择字典",clearable:""},{default:u((()=>[(l(!0),a(t,null,d(N.value,(e=>(l(),i(T,{key:e.type,label:"".concat(e.type,"(").concat(e.name,")"),value:e.type},null,8,["label","value"])))),128))])),_:1},8,["modelValue","disabled"])])),_:1}),o(_,{label:"是否排序"},{default:u((()=>[o(q,{modelValue:h.value.sort,"onUpdate:modelValue":b[9]||(b[9]=e=>h.value.sort=e)},null,8,["modelValue"])])),_:1}),o(_,{label:"是否必填"},{default:u((()=>[o(q,{modelValue:h.value.require,"onUpdate:modelValue":b[10]||(b[10]=e=>h.value.require=e)},null,8,["modelValue"])])),_:1}),o(_,{label:"是否可清空"},{default:u((()=>[o(q,{modelValue:h.value.clearable,"onUpdate:modelValue":b[11]||(b[11]=e=>h.value.clearable=e)},null,8,["modelValue"])])),_:1}),o(_,{label:"校验失败文案"},{default:u((()=>[o(y,{modelValue:h.value.errorText,"onUpdate:modelValue":b[12]||(b[12]=e=>h.value.errorText=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])}}});export{_ as default};
