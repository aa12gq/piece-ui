/*! 
 Build based on gin-vue-admin 
 Time : 1705585352000 */
import{u as e,a,r as l,m as s,o as t,c as r,b as o,t as c,d as n,w as d,q as u,v as i,h as p,e as m,g as f,k as h,l as g,E as w}from"./index-0efc4537.js";import{E as b,a as v}from"./form-150c0e00.js";/* empty css               *//* empty css                  *//* empty css              */import"./castArray-f160d2a3.js";import"./_baseClone-9af99e91.js";import"./_Uint8Array-4999d338.js";import"./_initCloneObject-b273bb42.js";const y=""+new URL("login_right_banner2-3b7269dd.jpg",import.meta.url).href,_={id:"userLayout",class:"w-full h-full relative"},j={class:"rounded-lg flex items-center justify-evenly w-full h-full bg-white md:w-screen md:h-screen md:bg-[#3e67fc]"},x=o("div",{class:"hidden md:block w-1/2 h-full bg-[#3e67fc] relative"},[o("img",{class:"h-[60%] absolute top-[18%] left-[14%]",src:y,alt:"banner"})],-1),V={class:"md:w-3/5 w-10/12 h-full flex items-center justify-evenly"},C=o("div",{class:"oblique h-[130%] w-3/5 bg-white transform -rotate-12 absolute right-0 -mr-52"},null,-1),I={class:"z-[999] pt-12 pb-10 md:w-96 w-full rounded-lg flex flex-col justify-between box-border"},L={class:"flex items-center justify-center"},k=["src"],U={class:"mb-9"},E={class:"text-center text-4xl font-bold"},z={class:"flex w-full justify-between"},N={class:"w-1/3 h-11 bg-[#c3d4f2] rounded"},A=["src"],q=Object.assign({name:"Login"},{__name:"index",setup(y){e();const q=()=>{i({}).then((async e=>{O.captcha.push({max:e.data.captchaLength,min:e.data.captchaLength,message:"请输入".concat(e.data.captchaLength,"位验证码"),trigger:"blur"}),G.value=e.data.picPath,M.captchaId=e.data.captchaId,M.openCaptcha=e.data.openCaptcha}))};q();const D=a(null),G=a(""),M=l({username:"",password:"",captcha:"",captchaId:"",openCaptcha:!1}),O=l({username:[{validator:(e,a,l)=>{if(a.length<5)return l(new Error("请输入正确的用户名"));l()},trigger:"blur"}],password:[{validator:(e,a,l)=>{if(a.length<6)return l(new Error("请输入正确的密码"));l()},trigger:"blur"}],captcha:[{message:"验证码格式不正确",trigger:"blur"}]}),$=s(),F=()=>{D.value.validate((async e=>{if(!e)return h({type:"error",message:"请正确填写登录信息",showClose:!0}),q(),!1;await(async()=>await $.LoginIn(M))()||q()}))};return(e,a)=>{const l=g,s=v,i=w,h=b;return t(),r("div",_,[o("div",j,[x,o("div",V,[C,o("div",I,[o("div",null,[o("div",L,[o("img",{class:"w-24",src:e.$GIN_VUE_ADMIN.appLogo,alt:""},null,8,k)]),o("div",U,[o("p",E,c(e.$GIN_VUE_ADMIN.appName),1)]),n(h,{ref_key:"loginForm",ref:D,model:M,rules:O,"validate-on-rule-change":!1,onKeyup:u(F,["enter"])},{default:d((()=>[n(s,{prop:"username",class:"mb-6"},{default:d((()=>[n(l,{modelValue:M.username,"onUpdate:modelValue":a[0]||(a[0]=e=>M.username=e),size:"large",placeholder:"请输入用户名","suffix-icon":"user"},null,8,["modelValue"])])),_:1}),n(s,{prop:"password",class:"mb-6"},{default:d((()=>[n(l,{modelValue:M.password,"onUpdate:modelValue":a[1]||(a[1]=e=>M.password=e),"show-password":"",size:"large",type:"password",placeholder:"请输入密码"},null,8,["modelValue"])])),_:1}),M.openCaptcha?(t(),p(s,{key:0,prop:"captcha",class:"mb-6"},{default:d((()=>[o("div",z,[n(l,{modelValue:M.captcha,"onUpdate:modelValue":a[2]||(a[2]=e=>M.captcha=e),placeholder:"请输入验证码",size:"large",class:"flex-1 mr-5"},null,8,["modelValue"]),o("div",N,[G.value?(t(),r("img",{key:0,class:"w-full h-full",src:G.value,alt:"请输入验证码",onClick:a[3]||(a[3]=e=>q())},null,8,A)):m("",!0)])])])),_:1})):m("",!0),n(s,{class:"mb-6"},{default:d((()=>[n(i,{class:"shadow shadow-blue-600 h-11 w-full",type:"primary",size:"large",onClick:F},{default:d((()=>[f("登 录")])),_:1})])),_:1})])),_:1},8,["model","rules"])])])])])])}}});export{q as default};
