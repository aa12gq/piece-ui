/*! 
 Build based on gin-vue-admin 
 Time : 1705585352000 */
import{r as e,o as l,c as a,b as o,d as u,w as s,h as n,M as t,N as p,G as d,aE as r,cV as i,e as m,g as c,cX as b,k as V,U as f,l as y,E as k,J as h}from"./index-0efc4537.js";import{a as g,E as v}from"./form-150c0e00.js";/* empty css             *//* empty css               *//* empty css              */import"./tag-c095386a.js";import{E as j,a as U}from"./select-59043028.js";import"./scrollbar-ab08f6f1.js";/* empty css               */import{E as _}from"./checkbox-aefa5e2d.js";/* empty css                  */import{b as C}from"./stringFun-647a78e9.js";import{k as R}from"./autoCode-a45db78d.js";import{t as q}from"./doc-46160848.js";import{_ as w}from"./_plugin-vue_export-helper-1b428a4d.js";import"./castArray-f160d2a3.js";import"./_baseClone-9af99e91.js";import"./_Uint8Array-4999d338.js";import"./_initCloneObject-b273bb42.js";import"./isEqual-aa7e7ef2.js";import"./hasIn-deea815f.js";import"./index-70d4cce8.js";import"./isUndefined-d281c39a.js";import"./index-c5b62cef.js";import"./strings-a95e1d29.js";import"./debounce-994b39f4.js";import"./index-4b62258d.js";const x={class:"gva-table-box"},G=w({__name:"autoPlug",setup(w){const G=e({plugName:"",routerGroup:"",hasGlobal:!0,hasRequest:!0,hasResponse:!0,global:[{key:"",type:"",desc:""}],request:[{key:"",type:"",desc:""}],response:[{key:"",type:"",desc:""}]}),N=()=>{G.plugName=C(G.plugName)},E=async()=>{if(!G.plugName||!G.routerGroup)return void V.error("插件名称和插件路由组为必填项");if(G.hasGlobal){if(G.global.some((e=>{if(!e.key||!e.type)return!0})))return void V.error("全局属性的key和type为必填项")}if(G.hasRequest){if(G.request.some((e=>{if(!e.key||!e.type)return!0})))return void V.error("请求属性的key和type为必填项")}if(G.hasResponse){if(G.response.some((e=>{if(!e.key||!e.type)return!0})))return void V.error("响应属性的key和type为必填项")}0===(await R(G)).code&&f("创建成功，插件已自动写入后端plugin目录下，请按照自己的逻辑进行创造")},B=e=>{e.push({key:"",value:""})},A=(e,l)=>{1!==e.length?e.splice(l,1):V.warning("至少有一个全局属性")};return(e,V)=>{const f=y,C=g,R=_,w=j,I=U,F=k,J=h,M=v;return l(),a("div",null,[o("div",x,[u(M,{"label-width":"140px",class:"w-[680px]"},{default:s((()=>[u(C,{label:"插件名"},{default:s((()=>[u(f,{modelValue:G.plugName,"onUpdate:modelValue":V[0]||(V[0]=e=>G.plugName=e),placeholder:"必填（英文大写字母开头）",onBlur:N},null,8,["modelValue"])])),_:1}),u(C,{label:"路由组"},{default:s((()=>[u(f,{modelValue:G.routerGroup,"onUpdate:modelValue":V[1]||(V[1]=e=>G.routerGroup=e),placeholder:"将会作为插件路由组使用"},null,8,["modelValue"])])),_:1}),u(C,{label:"使用全局属性"},{default:s((()=>[u(R,{modelValue:G.hasGlobal,"onUpdate:modelValue":V[2]||(V[2]=e=>G.hasGlobal=e)},null,8,["modelValue"])])),_:1}),G.hasGlobal?(l(),n(C,{key:0,label:"全局属性"},{default:s((()=>[(l(!0),a(t,null,p(G.global,((e,n)=>(l(),a("div",{key:n,class:"plug-row"},[o("span",null,[u(f,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"key 必填"},null,8,["modelValue","onUpdate:modelValue"])]),o("span",null,[u(I,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,placeholder:"type 必填"},{default:s((()=>[u(w,{label:"string",value:"string"}),u(w,{label:"int",value:"int"}),u(w,{label:"float32",value:"float32"}),u(w,{label:"float64",value:"float64"}),u(w,{label:"bool",value:"bool"})])),_:2},1032,["modelValue","onUpdate:modelValue"])]),o("span",null,[u(f,{modelValue:e.desc,"onUpdate:modelValue":l=>e.desc=l,placeholder:"备注 必填"},null,8,["modelValue","onUpdate:modelValue"])]),o("span",null,[u(F,{icon:d(r),circle:"",onClick:V[3]||(V[3]=e=>B(G.global))},null,8,["icon"])]),o("span",null,[u(F,{icon:d(i),circle:"",onClick:e=>A(G.global,n)},null,8,["icon","onClick"])])])))),128))])),_:1})):m("",!0),u(C,{label:"使用Request"},{default:s((()=>[u(R,{modelValue:G.hasRequest,"onUpdate:modelValue":V[4]||(V[4]=e=>G.hasRequest=e)},null,8,["modelValue"])])),_:1}),G.hasRequest?(l(),n(C,{key:1,label:"Request"},{default:s((()=>[(l(!0),a(t,null,p(G.request,((e,n)=>(l(),a("div",{key:n,class:"plug-row"},[o("span",null,[u(f,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"key 必填"},null,8,["modelValue","onUpdate:modelValue"])]),o("span",null,[u(I,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,placeholder:"type 必填"},{default:s((()=>[u(w,{label:"string",value:"string"}),u(w,{label:"int",value:"int"}),u(w,{label:"float32",value:"float32"}),u(w,{label:"float64",value:"float64"}),u(w,{label:"bool",value:"bool"})])),_:2},1032,["modelValue","onUpdate:modelValue"])]),o("span",null,[u(f,{modelValue:e.desc,"onUpdate:modelValue":l=>e.desc=l,placeholder:"备注 必填"},null,8,["modelValue","onUpdate:modelValue"])]),o("span",null,[u(F,{icon:d(r),circle:"",onClick:V[5]||(V[5]=e=>B(G.request))},null,8,["icon"])]),o("span",null,[u(F,{icon:d(i),circle:"",onClick:e=>A(G.request,n)},null,8,["icon","onClick"])])])))),128))])),_:1})):m("",!0),u(C,{label:"使用Response"},{default:s((()=>[u(R,{modelValue:G.hasResponse,"onUpdate:modelValue":V[6]||(V[6]=e=>G.hasResponse=e)},null,8,["modelValue"])])),_:1}),G.hasResponse?(l(),n(C,{key:2,label:"Response"},{default:s((()=>[(l(!0),a(t,null,p(G.response,((e,n)=>(l(),a("div",{key:n,class:"plug-row"},[o("span",null,[u(f,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"key 必填"},null,8,["modelValue","onUpdate:modelValue"])]),o("span",null,[u(I,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,placeholder:"type 必填"},{default:s((()=>[u(w,{label:"string",value:"string"}),u(w,{label:"int",value:"int"}),u(w,{label:"float32",value:"float32"}),u(w,{label:"float64",value:"float64"}),u(w,{label:"bool",value:"bool"})])),_:2},1032,["modelValue","onUpdate:modelValue"])]),o("span",null,[u(f,{modelValue:e.desc,"onUpdate:modelValue":l=>e.desc=l,placeholder:"备注 必填"},null,8,["modelValue","onUpdate:modelValue"])]),o("span",null,[u(F,{icon:d(r),circle:"",onClick:V[7]||(V[7]=e=>B(G.response))},null,8,["icon"])]),o("span",null,[u(F,{icon:d(i),circle:"",onClick:e=>A(G.response,n)},null,8,["icon","onClick"])])])))),128))])),_:1})):m("",!0),u(C,null,{default:s((()=>[u(F,{type:"primary",onClick:E},{default:s((()=>[c("创建")])),_:1}),u(J,{class:"cursor-pointer ml-3",onClick:V[8]||(V[8]=e=>d(q)("https://www.bilibili.com/video/BV1kv4y1g7nT?p=13&vd_source=f2640257c21e3b547a790461ed94875e"))},{default:s((()=>[u(d(b))])),_:1})])),_:1})])),_:1})])])}}},[["__scopeId","data-v-1b135b90"]]);export{G as default};
