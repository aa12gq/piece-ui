/*! 
 Build based on gin-vue-admin 
 Time : 1705585352000 */
import{a as e,o as a,c as l,d as t,b as o,q as i,w as s,g as r,t as u,e as d,U as n,k as m,l as p,E as c}from"./index-0efc4537.js";import{E as f}from"./dialog-2a3abe36.js";import"./overlay-73152bda.js";import{E as v}from"./radio-86f43203.js";import{E as y}from"./drawer-25d6170f.js";import{a as h,E as j}from"./form-150c0e00.js";import{E as g}from"./upload-276f24ce.js";import"./progress-6c49b316.js";/* empty css                  */import{E as b}from"./pagination-956e76f8.js";/* empty css              */import"./tag-c095386a.js";import"./select-59043028.js";import"./scrollbar-ab08f6f1.js";/* empty css               */import{E as _,a as C}from"./table-column-ce6481a3.js";import"./checkbox-aefa5e2d.js";/* empty css                *//* empty css               */import{g as k,u as w,c as V,f as x}from"./accoutGroup-85ef6fd8.js";import{W as U}from"./warningBar-5328b630.js";import{f as A}from"./date-8358c12f.js";import"./refs-04938f0e.js";import"./isUndefined-d281c39a.js";import"./castArray-f160d2a3.js";import"./_baseClone-9af99e91.js";import"./_Uint8Array-4999d338.js";import"./_initCloneObject-b273bb42.js";import"./cloneDeep-585751f1.js";import"./isEqual-aa7e7ef2.js";import"./hasIn-deea815f.js";import"./index-70d4cce8.js";import"./index-c5b62cef.js";import"./strings-a95e1d29.js";import"./debounce-994b39f4.js";import"./index-4b62258d.js";/* empty css             */const E={class:"authority"},z={class:"gva-table-box"},I={class:"gva-btn-list"},D={class:"search-section flex space-x-4"},F={key:0},M=o("h4",null,"set title by slot",-1),O={style:{flex:"auto"}},G={class:"dialog-footer"},N={__name:"index",setup(N){const S=e(!1),q=e("rtl"),K=()=>{H.value=!1};function T(){S.value=!1}function B(){n.confirm("Are you confirm to chose ".concat(radio1.value," ?")).then((()=>{S.value=!1})).catch((()=>{}))}const H=e(!1),J=e(1),R=e(0),W=e(10),L=e([]),P=e(""),Q=e(""),X=e=>{J.value=e,ee()},Y=e=>{W.value=e,ee()},Z=async()=>{Q.value=P.value,await ee()},$=()=>{P.value="",Q.value="",ee()},ee=async()=>{const e=await k(J.value,W.value,Q.value);0===e.code&&(L.value=[],setTimeout((()=>{e.data.list.forEach((e=>{e.CreatedAt=e.CreatedAt?A(e.CreatedAt,"yyyy-MM-dd hh:mm:ss"):"",e.UpdatedAt=e.UpdatedAt?A(e.UpdatedAt,"yyyy-MM-dd hh:mm:ss"):""})),console.log("测试",e.data),L.value=e.data.list}),100),R.value=e.data.total,J.value=e.data.page,W.value=e.data.pageSize)};ee();const ae=e(null),le=e([]),te=(e,a)=>{le.value=a,a.length>0?ue.value.file=a[0].raw:ue.value.file=null},oe=e(""),ie=e("新增分组"),se=e(!1),re=e=>{switch(e){case"add":ie.value="新增分组";break;case"edit":ie.value="编辑分组"}oe.value=e,se.value=!0},ue=e({name:"",CreatedAt:"",ID:0,UpdatedAt:""}),de=e(null),ne=()=>{de.value.resetFields(),ue.value={name:""},se.value=!1},me=async()=>{de.value.validate((async e=>{if(e)switch(oe.value){case"add":0===(await V(ue.value)).code&&m({type:"success",message:"添加成功",showClose:!0}),ee(),ne();break;case"edit":0===(await w(ue.value)).code&&m({type:"success",message:"编辑成功",showClose:!0}),ee(),ne();break;default:m({type:"error",message:"未知操作",showClose:!0})}}))};return(e,n)=>{const m=p,k=c,w=_,V=C,A=b,N=h,Q=g,ee=j,oe=y,pe=v,ce=f;return a(),l("div",E,[t(U,{title:"注：您的交易记录"}),o("div",z,[o("div",I,[o("div",D,[t(m,{modelValue:P.value,"onUpdate:modelValue":n[0]||(n[0]=e=>P.value=e),placeholder:"请输入分组名称",clearable:"",style:{width:"200px"},onClear:$,onKeyup:i(Z,["enter","native"])},null,8,["modelValue"]),t(k,{type:"primary",icon:"Search",onClick:Z},{default:s((()=>[r("搜索")])),_:1}),t(k,{type:"primary",icon:"plus",onClick:n[1]||(n[1]=e=>re("add"))},{default:s((()=>[r("新建分组")])),_:1})])]),t(V,{data:L.value,"tree-props":{children:"children",hasChildren:"hasChildren"},"row-key":"authorityId",style:{width:"100%"}},{default:s((()=>[t(w,{label:"ID","min-width":"180",prop:"ID"}),t(w,{align:"left",label:"分组名称","min-width":"180",prop:"name"}),t(w,{align:"left",label:"创建时间","min-width":"180",prop:"CreatedAt"}),t(w,{align:"left",label:"更新时间","min-width":"180",prop:"UpdatedAt"}),t(w,{align:"left",fixed:"right",label:"操作",width:"200"},{default:s((e=>[t(k,{icon:"edit",type:"primary",link:"",onClick:a=>(async e=>{const a=await x(e.ID);ue.value=a.data.reaccountGroupInfo,re("edit")})(e.row)},{default:s((()=>[r("编辑")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),t(A,{"current-page":J.value,"page-size":W.value,"page-sizes":[10,30,50,100],total:R.value,layout:"total, sizes, prev, pager, next, jumper",onCurrentChange:X,onSizeChange:Y},null,8,["current-page","page-size","total"])]),t(oe,{modelValue:H.value,"onUpdate:modelValue":n[3]||(n[3]=e=>H.value=e),title:"新建任务","before-close":K},{default:s((()=>[t(ee,{ref_key:"formRef",ref:ae,model:ue.value,rules:e.rules,"label-width":"120px"},{default:s((()=>[t(N,{label:"任务名称",prop:"taskName"},{default:s((()=>[t(m,{modelValue:ue.value.taskName,"onUpdate:modelValue":n[2]||(n[2]=e=>ue.value.taskName=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),t(N,{label:"上传文件",prop:"file"},{default:s((()=>[t(Q,{class:"upload-demo","file-list":le.value,"on-change":te,"before-upload":()=>!1},{default:s((()=>[t(k,{slot:"trigger"},{default:s((()=>[r("选择文件")])),_:1})])),_:1},8,["file-list"]),ue.value.file?(a(),l("div",F,u(ue.value.file.name),1)):d("",!0)])),_:1}),t(N,null,{default:s((()=>[t(k,{type:"primary",onClick:e.submitForm},{default:s((()=>[r("提交")])),_:1},8,["onClick"]),t(k,{onClick:e.resetForm},{default:s((()=>[r("重置")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"]),t(oe,{modelValue:S.value,"onUpdate:modelValue":n[6]||(n[6]=e=>S.value=e),direction:q.value},{header:s((()=>[M])),default:s((()=>[o("div",null,[t(pe,{modelValue:e.radio1,"onUpdate:modelValue":n[4]||(n[4]=a=>e.radio1=a),label:"Option 1",size:"large"},{default:s((()=>[r("Option 1")])),_:1},8,["modelValue"]),t(pe,{modelValue:e.radio1,"onUpdate:modelValue":n[5]||(n[5]=a=>e.radio1=a),label:"Option 2",size:"large"},{default:s((()=>[r("Option 2")])),_:1},8,["modelValue"])])])),footer:s((()=>[o("div",O,[t(k,{onClick:T},{default:s((()=>[r("cancel")])),_:1}),t(k,{type:"primary",onClick:B},{default:s((()=>[r("confirm")])),_:1})])])),_:1},8,["modelValue","direction"]),t(ce,{modelValue:se.value,"onUpdate:modelValue":n[8]||(n[8]=e=>se.value=e),"before-close":ne,title:ie.value},{footer:s((()=>[o("div",G,[t(k,{onClick:ne},{default:s((()=>[r("取 消")])),_:1}),t(k,{type:"primary",onClick:me},{default:s((()=>[r("确 定")])),_:1})])])),default:s((()=>[t(U,{title:"新增分组"}),t(ee,{ref_key:"apiForm",ref:de,model:ue.value,rules:e.rules,"label-width":"80px"},{default:s((()=>[t(N,{label:"名称",prop:"name"},{default:s((()=>[t(m,{modelValue:ue.value.name,"onUpdate:modelValue":n[7]||(n[7]=e=>ue.value.name=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])}}};export{N as default};
